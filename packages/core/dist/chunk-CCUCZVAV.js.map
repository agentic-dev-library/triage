{"version":3,"sources":["../src/schemas/issue.ts","../src/schemas/pr.ts","../src/schemas/review.ts","../src/schemas/sage.ts","../src/schemas/triage.ts"],"sourcesContent":["import { z } from 'zod';\n\nexport const IssueStatusSchema = z.enum(['open', 'in_progress', 'blocked', 'closed']);\nexport const IssuePrioritySchema = z.enum(['critical', 'high', 'medium', 'low', 'backlog']);\nexport const IssueTypeSchema = z.enum(['bug', 'feature', 'task', 'epic', 'chore', 'docs']);\n\nexport const IssueTriageSchema = z.object({\n    title: z.string().describe('The cleaned up or optimized title for the issue'),\n    summary: z.string().describe('A concise summary of the issue'),\n    type: IssueTypeSchema.describe('The categorized type of the issue'),\n    priority: IssuePrioritySchema.describe('The determined priority based on impact and urgency'),\n    labels: z.array(z.string()).describe('Recommended labels for the issue'),\n    estimate: z.number().optional().describe('Optional story point estimate'),\n    actionItems: z\n        .array(z.string())\n        .describe('Concrete next steps or requirements discovered from the issue description'),\n});\n\nexport type IssueTriage = z.infer<typeof IssueTriageSchema>;\n","import { z } from 'zod';\n\nexport const PRAnalysisSchema = z.object({\n    title: z.string().describe('Suggested optimized title for the PR'),\n    summary: z.string().describe('Executive summary of the changes'),\n    scope: z.enum(['minor', 'major', 'patch', 'breaking']).describe('The scope/impact of the changes'),\n    riskLevel: z.enum(['low', 'medium', 'high']).describe('Risk level of merging these changes'),\n    testingCoverage: z.enum(['none', 'partial', 'full']).describe('Assessment of testing included'),\n    breakingChanges: z.array(z.string()).describe('List of breaking changes identified'),\n    relatedIssues: z.array(z.string()).describe('Identified related issue IDs or URLs'),\n});\n\nexport type PRAnalysis = z.infer<typeof PRAnalysisSchema>;\n","import { z } from 'zod';\n\nexport const ReviewImpactSchema = z.enum(['low', 'medium', 'high', 'critical']);\n\nexport const CodeReviewCommentSchema = z.object({\n    file: z.string().describe('The path to the file being commented on'),\n    line: z.number().optional().describe('The line number (optional)'),\n    content: z.string().describe('The review comment or feedback'),\n    type: z.enum(['suggestion', 'issue', 'question', 'praise']).describe('The type of comment'),\n    severity: z.enum(['low', 'medium', 'high']).optional().describe('How critical this feedback is'),\n});\n\nexport const CodeReviewSchema = z.object({\n    summary: z.string().describe('Overall summary of the review'),\n    status: z.enum(['approve', 'request_changes', 'comment']).describe('The review decision'),\n    comments: z.array(CodeReviewCommentSchema).describe('Individual review comments'),\n    impact: ReviewImpactSchema.describe('Estimated impact of the changes'),\n    suggestedLabels: z.array(z.string()).describe('Labels suggested based on the code changes'),\n});\n\nexport type CodeReview = z.infer<typeof CodeReviewSchema>;\nexport type CodeReviewComment = z.infer<typeof CodeReviewCommentSchema>;\n","import { z } from 'zod';\n\n/**\n * Query types that Sage can handle\n */\nexport const SageQueryTypeSchema = z.enum([\n    'question',\n    'review',\n    'fix',\n    'implement',\n    'refactor',\n    'decompose',\n    'unblock',\n    'route',\n    'general',\n]);\n\nexport type SageQueryType = z.infer<typeof SageQueryTypeSchema>;\n\n/**\n * Agent types for task routing\n */\nexport const AgentTypeSchema = z.enum(['cursor', 'jules', 'ollama', 'claude', 'human']);\n\nexport type AgentType = z.infer<typeof AgentTypeSchema>;\n\n/**\n * Common effort levels for tasks and suggestions\n */\nexport const EffortSchema = z.enum(['trivial', 'small', 'medium', 'large', 'epic']);\n\nexport type Effort = z.infer<typeof EffortSchema>;\n\n/**\n * Schema for Sage Q&A responses\n */\nexport const SageResponseSchema = z.object({\n    answer: z.string().describe('The answer to the question or query'),\n    queryType: SageQueryTypeSchema.describe('The classified type of the query'),\n    confidence: z.number().min(0).max(1).describe('Confidence level in the response (0-1)'),\n    references: z.array(z.string()).optional().describe('File paths or documentation referenced in the answer'),\n    followUp: z.string().optional().describe('Suggested follow-up action or question'),\n    agentRecommendation: z\n        .object({\n            agent: AgentTypeSchema.describe('Recommended agent to handle follow-up work'),\n            reason: z.string().describe('Why this agent is recommended'),\n            instructions: z.string().optional().describe('Specific instructions for the agent'),\n        })\n        .optional()\n        .describe('If the query requires action, which agent should handle it'),\n});\n\nexport type SageResponse = z.infer<typeof SageResponseSchema>;\n\n/**\n * Schema for task decomposition\n */\nexport const SubtaskSchema = z.object({\n    id: z.string().describe('Unique identifier for the subtask (e.g., task-001)'),\n    title: z.string().describe('Clear, actionable title for the subtask'),\n    description: z.string().describe('Detailed description of what needs to be done'),\n    agent: AgentTypeSchema.describe('Which agent should handle this subtask'),\n    priority: z.number().min(1).max(10).describe('Priority from 1 (highest) to 10 (lowest)'),\n    effort: EffortSchema.describe('Estimated effort level'),\n    dependencies: z.array(z.string()).optional().describe('IDs of subtasks this depends on'),\n});\n\nexport type Subtask = z.infer<typeof SubtaskSchema>;\n\nexport const TaskDecompositionSchema = z.object({\n    originalTask: z.string().describe('The original task that was decomposed'),\n    subtasks: z.array(SubtaskSchema).describe('List of subtasks to complete'),\n    executionOrder: z.array(z.string()).optional().describe('Recommended order to execute subtasks by ID'),\n    estimatedTotalEffort: EffortSchema.describe('Total estimated effort for all subtasks'),\n    notes: z.string().optional().describe('Additional notes or considerations'),\n});\n\nexport type TaskDecomposition = z.infer<typeof TaskDecompositionSchema>;\n\n/**\n * Schema for agent routing decisions\n */\nexport const AgentRoutingSchema = z.object({\n    agent: AgentTypeSchema.describe('The recommended agent to handle the task'),\n    reason: z.string().describe('Why this agent was chosen'),\n    instructions: z.string().describe('Specific instructions for the agent'),\n    confidence: z.number().min(0).max(1).describe('Confidence in the routing decision'),\n    alternatives: z\n        .array(\n            z.object({\n                agent: AgentTypeSchema,\n                reason: z.string(),\n            })\n        )\n        .optional()\n        .describe('Alternative agents that could handle the task'),\n});\n\nexport type AgentRouting = z.infer<typeof AgentRoutingSchema>;\n\n/**\n * Schema for unblocking stuck work\n */\nexport const UnblockResponseSchema = z.object({\n    diagnosis: z.string().describe('Analysis of what is blocking progress'),\n    rootCause: z.string().describe('The underlying root cause of the blockage'),\n    suggestions: z\n        .array(\n            z.object({\n                action: z.string().describe('Specific action to take'),\n                effort: EffortSchema,\n                likelihood: z.number().min(0).max(1).describe('Likelihood this will unblock'),\n            })\n        )\n        .describe('Ordered list of suggestions to unblock'),\n    immediateAction: z.string().describe('The single most important thing to do right now'),\n    needsHuman: z.boolean().describe('Whether human intervention is required'),\n    escalationReason: z.string().optional().describe('If needs human, why escalation is needed'),\n});\n\nexport type UnblockResponse = z.infer<typeof UnblockResponseSchema>;\n","import { z } from 'zod';\nimport { IssueTriageSchema } from './issue.js';\nimport { CodeReviewSchema } from './review.js';\n\nexport const triageAnalysisSchema = z.object({\n    issueAnalysis: IssueTriageSchema.optional().describe('Analysis of the issue.'),\n    codeReview: CodeReviewSchema.optional().describe('Code review of the pull request.'),\n    triage: z.string().describe('The overall triage assessment.'),\n});\n"],"mappings":"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","names":["z","z","z","z","z"]}